---
import Layout from '../layouts/Layout.astro';
import TopBar from '../components/TopBar.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

const team = [
  {
    name: "Kamil Dworniczak",
    role: "Prezes Fundacji",
    image: "https://picsum.photos/400/500?random=21",
    manifest: "Doświadczenie zawodowe zdobywa od 2011 roku, piastując kluczowe stanowiska u czołowych operatorów hazardowych w Polsce i za granicą. Odpowiadał za strategie wzrostu, marketing oraz systemy retencji graczy, promując przy tym standardy Odpowiedzialnej Gry. Jako fundator „Znaj Granice”, wykorzystuje unikalną wiedzę o mechanizmach branży do budowy nowoczesnych systemów profilaktyki, higieny cyfrowej oraz flagowego projektu Fundacji – Ośrodka Terapii Uzależnień „Granica”.",
    email: "pankamski@znajgranice.org",
    linkedIn: "#"
  },
  {
    name: "Jarosław Elżakowski",
    role: "Wiceprezes Fundacji",
    image: "https://picsum.photos/400/500?random=22",
    manifest: "Psycholog, Specjalista terapii uzależnień. W zawodzie od 2012 roku, był m.in. tu:  Ośrodek Leczenia Uzależnień SPZOZ, Wojewódzki Szpital Specjalistyczny im. Stefana Kardynała Wyszyńskiego, Centrum Psychoedukacji i Pomocy Psychologicznej, Ośrodek Psychoterapii i Rozwoju, Wojewódzki Ośrodek Leczenia Uzależnienia od Alkoholu i Współuzależnienia w Lublinie w ramach Poradni i Oddziału Dziennego, w Całodobowym Oddziale Terapii Uzależnienia od Alkoholu Szpitala Neuropsychiatrycznego.",
    email: "elek@znajgranice.org",
    linkedIn: "#"
  },
  {
    name: "Edward Kukliński",
    role: "Członek Zarządu Fundacji",
    image: "https://picsum.photos/400/500?random=23",
    manifest: "Doświadczenie w koordynacji projektów i zarządzaniu operacyjnym zdobywał, realizując zadania z zakresu administracji, HR oraz komunikacji medialnej. Specjalizuje się w budowaniu struktur organizacyjnych od podstaw, nadzoruje procesy - od planowania strategicznego po bieżące działania sekretariatu. W Fundacji „Znaj Granice” odpowiada za sprawne funkcjonowanie baru, biura, koordynację projektów statutowych oraz relacje z partnerami i mediami. Walczy o to, by wizja Fundacji przekładała się na skuteczne działania operacyjne, wspierając rozwój kadr oraz budowę infrastruktury Ośrodka „Granica”.",
    email: "edek.k.buziaczek@znajgranice.org",
    linkedIn: "#"
  }
];

const partners = [
  { name: "Superbet", logo: "https://placehold.co/200x80/f1f5f9/0f172a?text=SUPERBET" },
  { name: "Betclic", logo: "https://placehold.co/200x80/f1f5f9/0f172a?text=BETCLIC" },
  { name: "STS", logo: "https://placehold.co/200x80/f1f5f9/0f172a?text=STS" },
  { name: "Fortuna", logo: "https://placehold.co/200x80/f1f5f9/0f172a?text=FORTUNA" },
  { name: "Playtech", logo: "https://placehold.co/200x80/f1f5f9/0f172a?text=PLAYTECH" },
  { name: "EGBA", logo: "https://placehold.co/200x80/f1f5f9/0f172a?text=EGBA" }
];
---

<Layout title="Fundacja Znaj Granice">
  <div class="fixed top-0 left-0 w-full z-[9999] bg-white border-b border-slate-100">
    <TopBar />
    <Header />
  </div>

  <main class="pt-[100px] md:pt-[112px]">
    
    <section id="test-samooceny" class="py-16 md:py-24 px-4 bg-slate-900 text-white">
      <div class="max-w-6xl mx-auto">
        <div class="grid lg:grid-cols-2 gap-12 items-center">
          <div>
            <span class="inline-block px-4 py-1 rounded-full bg-emerald-500/10 text-emerald-400 text-xs font-bold uppercase tracking-widest mb-6 border border-emerald-500/20">Test Samooceny</span>
            <h1 class="text-4xl md:text-6xl font-extrabold tracking-tight mb-6 leading-tight">
              Kiedy gra przestaje być <span class="text-emerald-500">rozrywką?</span>
            </h1>
            <p class="text-lg text-slate-400 mb-8 max-w-md">
              Anonimowy test, który pomoże Ci zrozumieć Twoją relację z hazardem. Zajmie tylko 2 minuty.
            </p>
            <div class="flex gap-6 opacity-60">
                <div class="flex items-center gap-2 text-sm">
                    <svg class="w-5 h-5 text-emerald-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg> 100% dyskrecji
                </div>
            </div>
          </div>

          <div class="bg-white rounded-3xl p-8 md:p-10 shadow-2xl text-slate-900">
            <div id="quiz-container">
              <div id="quiz-intro">
                <h3 class="text-2xl font-bold mb-4">Rozpocznij test</h3>
                <p class="text-slate-600 mb-8">Wybierz odpowiedź, która najlepiej opisuje Twoje odczucia w ciągu ostatnich 12 miesięcy.</p>
                <button onclick="window.startQuiz()" class="w-full bg-slate-900 text-white py-4 rounded-xl font-bold hover:bg-emerald-600 transition-all cursor-pointer">
                  Zacznij teraz
                </button>
              </div>

              <div id="quiz-questions" class="hidden">
                <div class="flex justify-between items-center mb-4">
                    <span id="question-counter" class="text-xs font-bold text-emerald-600 uppercase">Pytanie 1/10</span>
                </div>
                <div class="mb-8 h-2 bg-slate-100 rounded-full overflow-hidden">
                   <div id="quiz-progress" class="h-full bg-emerald-500 transition-all duration-300" style="width: 10%"></div>
                </div>
                <p id="question-text" class="text-xl font-semibold text-slate-800 mb-8 min-h-[80px]">Ładowanie...</p>
                <div class="grid grid-cols-2 gap-4">
                   <button onclick="window.answer(true)" class="p-4 border-2 border-slate-100 rounded-xl font-bold hover:border-emerald-500 hover:bg-emerald-50 transition cursor-pointer">TAK</button>
                   <button onclick="window.answer(false)" class="p-4 border-2 border-slate-100 rounded-xl font-bold hover:border-slate-800 hover:bg-slate-50 transition cursor-pointer">NIE</button>
                </div>
              </div>

              <div id="quiz-result" class="hidden text-center">
                 <div id="result-icon-container" class="w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6">
                    <svg id="icon-check" class="w-8 h-8 text-white hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/></svg>
                 </div>
                 <h3 id="result-title" class="text-2xl font-bold mb-4">Twój wynik</h3>
                 <p id="result-text" class="text-slate-600 mb-8"></p>
                 <a href="#kontakt" class="block w-full bg-slate-900 text-white py-4 rounded-xl font-bold hover:bg-emerald-600 transition-all">Skontaktuj się z nami</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="o-nas" class="py-24 px-4 bg-white">
      <div class="max-w-4xl mx-auto text-center">
        <h2 class="text-sm font-bold text-emerald-600 uppercase tracking-widest mb-4">O Fundacji</h2>
        <h3 class="text-4xl md:text-5xl font-extrabold text-slate-900 mb-8 tracking-tight">Ekspercka wiedza, <br/>ludzkie podejście.</h3>
        <p class="text-xl text-slate-600 leading-relaxed mb-12">
            Nie jesteśmy teoretykami. Wyrastamy z wnętrza branży igamingowej, co pozwala nam realnie oceniać zagrożenia i skutecznie pomagać.
        </p>
        <div class="bg-slate-50 border border-slate-100 p-8 rounded-2xl text-left">
            <h4 class="font-bold text-slate-900 mb-4 text-xl">Nasza Misja</h4>
            <p class="text-slate-700 italic border-l-4 border-emerald-500 pl-6 text-lg">
                "Znaj Granice to nie tylko nazwa, to narzędzie do odzyskiwania kontroli nad własnym życiem w świecie cyfrowych pokus."
            </p>
        </div>
      </div>
    </section>

    <section id="dzialania" class="py-24 px-4 bg-slate-50 border-y border-slate-100">
      <div class="max-w-6xl mx-auto">
        <div class="text-center mb-16">
            <h2 class="text-3xl font-extrabold text-slate-900 uppercase tracking-tight">Jak działamy?</h2>
        </div>
        <div class="grid md:grid-cols-3 gap-8">
          {[
            { title: "Wsparcie Terapeutyczne", desc: "Tworzymy sieć specjalistów i ośrodki leczenia, które rozumieją mechanizmy nowoczesnego hazardu." },
            { title: "Edukacja Społeczna", desc: "Prowadzimy kampanie uświadamiające i badania nad rynkiem hazardowym w Polsce." },
            { title: "Doradztwo Biznesowe", desc: "Pomagamy operatorom wdrażać realne standardy Odpowiedzialnej Gry i CSR." }
          ].map(item => (
            <div class="bg-white p-8 rounded-2xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow">
              <div class="w-12 h-12 bg-emerald-500/10 text-emerald-600 rounded-lg flex items-center justify-center mb-6 font-bold">!</div>
              <h4 class="text-xl font-bold mb-4 text-slate-900">{item.title}</h4>
              <p class="text-slate-600 leading-relaxed">{item.desc}</p>
            </div>
          ))}
        </div>
      </div>
    </section>

    <section id="zespol" class="py-24 px-4 bg-white">
      <div class="max-w-6xl mx-auto">
        <div class="mb-16">
          <h2 class="text-3xl font-extrabold text-slate-900 uppercase tracking-tight">Ludzie Fundacji</h2>
          <p class="text-slate-500 mt-2">Zespół ekspertów i praktyków.</p>
        </div>

        <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-8">
          {team.map((member) => (
            <div class="flex flex-col h-full bg-slate-50 rounded-2xl overflow-hidden border border-slate-100">
              <img src={member.image} alt={member.name} class="w-full aspect-[4/5] object-cover grayscale hover:grayscale-0 transition-all duration-500" />
              <div class="p-6 flex flex-col flex-grow">
                <span class="text-xs font-bold text-emerald-600 uppercase mb-2">{member.role}</span>
                <h4 class="text-xl font-bold text-slate-900 mb-6">{member.name}</h4>
                <button 
                   onclick={`window.openMemberProfile({name:'${member.name}', role:'${member.role}', bio:'${member.manifest.replace(/'/g, "\\'")}', img:'${member.image}'})`}
                   class="mt-auto text-sm font-bold text-slate-900 flex items-center gap-2 hover:text-emerald-600 transition cursor-pointer"
                >
                  Czytaj profil <span>→</span>
                </button>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <section id="kontakt" class="py-24 px-4 bg-slate-900 text-white">
      <div class="max-w-5xl mx-auto">
        <div class="grid lg:grid-cols-2 gap-16 items-start">
          <div>
            <h2 class="text-3xl font-bold mb-6">Skontaktuj się z nami</h2>
            <p class="text-slate-400 mb-12 text-lg">Jeśli potrzebujesz pomocy lub chcesz wesprzeć nasze działania – napisz. Odpowiadamy na każdą wiadomość.</p>
            
            <div class="space-y-6">
                <div class="flex items-center gap-4">
                    <div class="w-10 h-10 bg-emerald-500/20 rounded flex items-center justify-center text-emerald-400">@</div>
                    <span class="font-bold text-lg">kontakt@znajgranice.org</span>
                </div>
                <div class="flex items-center gap-4">
                    <div class="w-10 h-10 bg-emerald-500/20 rounded flex items-center justify-center text-emerald-400">#</div>
                    <span class="font-bold text-lg">Lublin, ul. Graniczna 1</span>
                </div>
            </div>
          </div>

          <form class="space-y-4 bg-white/5 p-8 rounded-2xl border border-white/10">
            <input type="text" placeholder="Imię" class="w-full bg-slate-800 border-none p-4 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none" />
            <input type="email" placeholder="Email" class="w-full bg-slate-800 border-none p-4 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none" />
            <textarea rows="4" placeholder="Wiadomość" class="w-full bg-slate-800 border-none p-4 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none"></textarea>
            <button class="w-full bg-emerald-600 py-4 rounded-lg font-bold hover:bg-emerald-500 transition-all cursor-pointer">Wyślij wiadomość</button>
          </form>
        </div>
      </div>
    </section>

  </main>
  <Footer />
</Layout>

<script is:inline>
  const questions = [
    "Czy poświęcasz coraz więcej czasu na myślenie o grze?",
    "Czy próbujesz grać za coraz wyższe stawki?",
    "Czy kłamiesz bliskim w sprawie hazardu?",
    "Czy po przegranej musisz się natychmiast odegrać?",
    "Czy próby ograniczenia gry kończyły się fiaskiem?",
    "Czy czujesz irytację, gdy nie możesz grać?",
    "Czy grasz, żeby uciec od problemów?",
    "Czy zaniedbałeś pracę/naukę przez hazard?",
    "Czy pożyczasz pieniądze na spłatę długów z gry?",
    "Czy hazard dominuje nad Twoim życiem?"
  ];

  let currentQuestion = 0;
  let score = 0;

  window.startQuiz = () => {
    document.getElementById('quiz-intro').classList.add('hidden');
    document.getElementById('quiz-questions').classList.remove('hidden');
    showQuestion();
  };

  const showQuestion = () => {
    document.getElementById('question-counter').innerText = `Pytanie ${currentQuestion + 1}/10`;
    document.getElementById('question-text').innerText = questions[currentQuestion];
    document.getElementById('quiz-progress').style.width = `${(currentQuestion + 1) * 10}%`;
  };

  window.answer = (val) => {
    if(val) score++;
    currentQuestion++;
    if(currentQuestion < questions.length) showQuestion();
    else showResult();
  };

  const showResult = () => {
    document.getElementById('quiz-questions').classList.add('hidden');
    document.getElementById('quiz-result').classList.remove('hidden');
    const title = document.getElementById('result-title');
    const text = document.getElementById('result-text');
    const iconContainer = document.getElementById('result-icon-container');
    
    document.getElementById('icon-check').classList.remove('hidden');

    if(score <= 2) {
      iconContainer.classList.add('bg-emerald-500');
      title.innerText = "Niskie ryzyko";
      text.innerText = "Wydaje się, że masz kontrolę nad grą, ale zachowaj czujność.";
    } else if(score <= 5) {
      iconContainer.classList.add('bg-amber-500');
      title.innerText = "Umiarkowane ryzyko";
      text.innerText = "Twoja relacja z hazardem wymaga uwagi. Warto o tym porozmawiać.";
    } else {
      iconContainer.classList.add('bg-red-600');
      title.innerText = "Wysokie ryzyko";
      text.innerText = "Hazard może być poważnym problemem w Twoim życiu. Skontaktuj się z nami.";
    }
  };
</script>

<style>
  html { scroll-behavior: smooth; }
</style>